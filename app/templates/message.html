{% extends 'base.html' %}
{% block title %}
Message
{% endblock %}

{% block content %}
<br>
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    {% for category, message in messages %}
      
      <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
        {{ message }}
        
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  {% endif %}
{% endwith %}
<h4>Send Message</h4> 
<form action="{{ url_for('message.msg_send') }}" method="POST">
    <label for="reciever">Send To:</label>
    <input list="user-list" name="reciever" placeholder="Enter a username..." required autocomplete="off">

    <datalist id="user-list">
      {% for user in allUsers %}
        <option value="{{ user }}">
      {% endfor %}

    </datalist>

    <br><br>
    <label for="msg_content" style="vertical-align: top;">Message:</label>
    <textarea name="msg_content" id="msg_content" rows="6" cols="50" placeholder="Enter your message..."></textarea>
    <br>
    <button class="btn btn-primary" type="submit">Send</button>
</form>
{% endblock %}